{% extends "optimized/base.html" %}

{% block content %}
<div class="content-section">
  <div class="media">
    <img class="rounded-circle account-img" src="{{ url_for('static', filename='avatars/' + user.avatar_file) }}" style="width: 125px; height: 125px; object-fit: cover;">
    <div class="media-body ml-4">
      <h2 class="account-heading">{{ user.username }}</h2>
      <p class="text-secondary">{{ user.email }}</p>
      {% if user.bio %}
        <p>{{ user.bio }}</p>
      {% endif %}
      
      <div class="row mt-3">
          <div class="col-md-6">
              <h5>Stats</h5>
              <ul class="list-group list-group-flush">
                  <li class="list-group-item">Gender: {{ user.gender }}</li>
                  <li class="list-group-item">Rider: {{ 'Yes' if user.is_rider else 'No' }}</li>
                  {% if user.is_rider %}
                    <li class="list-group-item">Average Rating: {{ avg_rating }} / 5.0</li>
                  {% endif %}
              </ul>
          </div>
      </div>

      {% if user == current_user %}
        <div class="mt-3">
            <a class="btn btn-secondary btn-sm" href="{{ url_for('main.edit_profile') }}">Edit Profile</a>
        </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
